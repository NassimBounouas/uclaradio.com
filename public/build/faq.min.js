webpackJsonp([0],[function(e,t,s){var a=s(1),n=s(158),i={url:"/panel/api/faq"},r=s(159),l=s(160).Accordion,o=s(160).Panel,u=s(160).Input,p=a.createClass({displayName:"FAQPage",getInitialState:function(){return{faqs:[],tempFAQs:[],editable:!1,editing:!1}},loadDataFromServer:function(){$.ajax({url:this.props.urls.url,dataType:"json",cache:!1,success:function(e){this.setState({faqs:e.faqs}),e.editable&&this.setState({editable:e.editable})}.bind(this),error:function(e,t,s){console.error(this.props.urls.url,t,s.toString())}.bind(this)})},updateFAQ:function(e){this.setState({tempFAQs:e})},addQuestion:function(){var e=this.state.tempFAQs,t=e.length>0?e[e.length-1].id+1:1;e.push({id:t,question:"",answer:""}),this.setState({tempFAQs:e})},submitData:function(){console.log("updating data");var e=this.state.faqs;this.setState({faqs:this.state.tempFAQs}),$.ajax({url:this.props.urls.url,dataType:"json",type:"POST",data:{faqs:JSON.stringify(this.state.tempFAQs)},success:function(e){this.setState({editing:!1,faqs:e,tempFAQs:[]})}.bind(this),error:function(t,s,a){this.setState({faqs:e}),console.error(this.props.urls.url,s,a.toString())}.bind(this)})},toggleEditing:function(){var e=$.extend(!0,{},{faqs:this.state.faqs});this.setState({tempFAQs:e.faqs,editing:!this.state.editing})},componentDidMount:function(){this.loadDataFromServer()},render:function(){var e=this.state.faqs.map(function(e,t){return a.createElement(o,{header:e.question,eventKey:t,key:t},e.answer)});return a.createElement("div",{className:"faqPage"},a.createElement(r,null),this.state.editing?a.createElement("div",{className:"editQuestions"},a.createElement(c,{faqs:this.state.tempFAQs,updateFAQ:this.updateFAQ,addQuestion:this.addQuestion}),a.createElement(d,{submit:"Submit",handleSubmit:this.submitData,cancel:"Cancel",handleCancel:this.toggleEditing})):a.createElement("div",{className:"questions"},a.createElement(l,null,e),this.state.editable?a.createElement(d,{submit:"Edit",handleSubmit:this.toggleEditing}):""))}}),d=a.createClass({displayName:"FloatingSelect",render:function(){return a.createElement("div",{className:"floatingSelect"},a.createElement("p",{className:"centered"},a.createElement("a",{onClick:this.props.handleSubmit},this.props.submit),this.props.cancel?a.createElement("span",{className:"leftMargin"},a.createElement("a",{className:"cancelLink",onClick:this.props.handleCancel},this.props.cancel)):""))}}),c=a.createClass({displayName:"FAQEdit",getInitialState:function(){return{faqs:this.props.faqs}},updateQuestion:function(e,t){var s=this.props.faqs,a=s[e];a.question=t,s[e]=a,this.props.updateFAQ(s)},updateAnswer:function(e,t){var s=this.props.faqs,a=s[e];a.answer=t,s[e]=a,this.props.updateFAQ(s)},render:function(){var e=this.updateQuestion,t=this.updateAnswer,s=this.props.faqs.map(function(s,n){return a.createElement(h,{key:n,qid:n,question:s.question,answer:s.answer,handleUpdateQuestion:e,handleUpdateAnswer:t})});return a.createElement("div",{className:"faqEdit"},s,a.createElement(d,{submit:"+ Add New Question",handleSubmit:this.props.addQuestion}))}}),h=a.createClass({displayName:"QuestionEdit",updateQuestion:function(e){this.props.handleUpdateQuestion(this.props.qid,e.target.value)},updateAnswer:function(e){this.props.handleUpdateAnswer(this.props.qid,e.target.value)},render:function(){return a.createElement("div",{className:"questionEdit"},a.createElement("p",null,"Question ",this.props.qid),a.createElement(u,{type:"text",value:this.props.question,placeholder:"Question",ref:"input",groupClassName:"input",wrapperClassName:"col-xs-12",onChange:this.updateQuestion}),a.createElement(u,{type:"textarea",value:this.props.answer,placeholder:"Answer",ref:"input",groupClassName:"input",wrapperClassName:"col-xs-12",onChange:this.updateAnswer}))}});n.render(a.createElement(p,{urls:i}),document.getElementById("content"))}]);