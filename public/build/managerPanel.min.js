webpackJsonp([0],{0:function(e,t,a){var i=a(1),n=a(158),r={managerInfo:"/panel/manager/api/info",managerUpdate:"/panel/manager/api/update",listAccounts:"/panel/manager/api/listAccounts",verifyAccount:"/panel/manager/api/verify","delete":"/panel/manager/api/delete",deleteUnverified:"/panel/manager/api/deleteUnverified"},s=a(159),l=a(404),o=a(405),c=a(160).Grid,p=a(160).Row,u=a(160).Col,d=a(160).Well,h=a(160).Panel,m=(a(160).Pager,a(160).PageItem,a(160).Button,a(160).Input,i.createClass({displayName:"ManagerPage",render:function(){return i.createElement("div",{className:"managerPage"},i.createElement(c,null,i.createElement(l,null),i.createElement(p,null,i.createElement(u,{xs:12,md:6},i.createElement(d,null,i.createElement(f,{urls:this.props.urls}))),i.createElement(u,{xs:12,md:6},i.createElement(D,{urls:this.props.urls})))))}})),f=i.createClass({displayName:"Manager",getInitialState:function(){return{manager:{},positionVerified:!1,meetingTimeVerified:!1,meetingLocationVerified:!1}},loadDataFromServer:function(){$.ajax({url:this.props.urls.managerInfo,dataType:"json",type:"POST",success:function(e){this.setState({manager:e})}.bind(this),error:function(e,t,a){console.error(this.props.urls.managerInfo,t,a.toString())}.bind(this)})},handleManagerInfoSubmit:function(e,t){var a=this.state.manager;this.setState({manager:e});var i={manager:JSON.stringify(e)};$.ajax({url:this.props.urls.managerUpdate,dataType:"json",type:"POST",data:i,success:function(e){var a={manager:e};a[t]=!0,this.setState(a)}.bind(this),error:function(e,i,n){var r={manager:a};r[t]=!1,this.setState(r),console.error(this.props.urls.managerUpdate,i,n.toString())}.bind(this)})},handlePositionSubmit:function(e){var t=$.extend(!0,{},this.state.manager);t.position=e,this.handleManagerInfoSubmit(t,"positionVerified")},handleMeetingTimeSubmit:function(e){var t=$.extend(!0,{},this.state.manager);t.meetingTime=e,this.handleManagerInfoSubmit(t,"meetingTimeVerified")},handleMeetingPlaceSubmit:function(e){var t=$.extend(!0,{},this.state.manager);t.meetingPlace=e,this.handleManagerInfoSubmit(t,"meetingLocationVerified")},componentDidMount:function(){this.loadDataFromServer()},render:function(){return i.createElement("div",{className:"manager"},i.createElement("h2",null,"Manager Info"),i.createElement(o,{title:"Position",placeholder:"Enter Manager Position",currentValue:this.state.manager.position,onSubmit:this.handlePositionSubmit,verified:this.state.positionVerified}),i.createElement(o,{title:"Meeting Time",placeholder:"Enter Department Meeting Times",currentValue:this.state.manager.meetingTime,onSubmit:this.handleMeetingTimeSubmit,verified:this.state.meetingTimeVerified}),i.createElement(o,{title:"Meeting Location",placeholder:"Enter Department Meeting Location",currentValue:this.state.manager.meetingPlace,onSubmit:this.handleMeetingPlaceSubmit,verified:this.state.meetingLocationVerified}))}});const g="Full Name",v="Email",E="fire",b="Verify",S="Verify user is a Radio DJ",T="Delete",y="Remove DJ",N="Delete DJ account";var D=i.createClass({displayName:"AccountsList",loadDataFromServer:function(){$.ajax({url:this.props.urls.listAccounts,dataType:"json",type:"POST",cache:!1,success:function(e){this.setState({accounts:e}),this.updateTableRows()}.bind(this),error:function(e,t,a){console.error(this.props.url,t,a.toString())}.bind(this)})},updateUser:function(e,t,a){var i={username:t};$.ajax({url:e,dataType:"json",type:"POST",data:i,success:function(){this.loadDataFromServer()}.bind(this),error:function(e,t,i){this.setState({accounts:a}),this.updateTableRows(),console.error(this.props.showURL,t,i.toString())}.bind(this)})},handleVerifyUser:function(e){for(var t=this.state.accounts,a=$.extend(!0,[],this.state.accounts),i=0;i<a.unverified.length;i++)if(a.unverified[i].username==e){a.verified.push(a.unverified[i]),a.unverified.splice(i,1);break}this.setState({accounts:a}),this.updateUser(this.props.urls.verifyAccount,e,t)},handleDeleteUser:function(e){for(var t=this.state.accounts,a=$.extend(!0,[],this.state.accounts),i=0;i<a.verified.length;i++)if(a.verified[i].username==e){a.verified.splice(i,1);break}this.setState({accounts:a}),this.updateUser(this.props.urls["delete"],e,t)},handleDeleteUnverifiedUser:function(e){for(var t=this.state.accounts,a=$.extend(!0,[],this.state.accounts),i=0;i<a.unverified.length;i++)if(a.unverified[i].username==e){a.unverified.splice(i,1);break}this.setState({accounts:a}),this.updateUser(this.props.urls.deleteUnverified,e,t)},updateTableRows:function(){var e=function(e){for(var t=[],a=0;a<e.length;a++){var i={value:e[a].username,string1:e[a].username,string2:e[a].email,actionsDisabled:e[a].manager};t.push(i)}return t};this.setState({unverifiedRows:e(this.state.accounts.unverified)}),this.setState({verifiedRows:e(this.state.accounts.verified)})},getInitialState:function(){return{accounts:{unverified:[],verified:[]},unverifiedRows:[],verifiedRows:[]}},componentDidMount:function(){this.loadDataFromServer()},render:function(){return i.createElement("div",{className:"accountsList"},this.state.unverifiedRows.length>0?i.createElement(h,{header:"Requested Accounts",bsStyle:"warning"},i.createElement(s,{rows:this.state.unverifiedRows,string1:g,string2:v,acceptTitle:b,rejectTitle:T,acceptTooltip:S,rejectTooltip:N,onAccept:this.handleVerifyUser,onReject:this.handleDeleteUnverifiedUser})):i.createElement("div",null),this.state.verifiedRows.length>0?i.createElement(h,{header:"DJs",bsStyle:"info"},i.createElement(s,{rows:this.state.verifiedRows,string1:g,string2:v,rejectTitle:y,rejectTooltip:N,onReject:this.handleDeleteUser,glyph:E})):i.createElement("div",null))}});n.render(i.createElement(m,{urls:r}),document.getElementById("content"))},159:function(e,t,a){var i=a(1),n=a(160).Table,r=a(160).Button,s=a(160).ButtonGroup,l=a(160).Glyphicon,o=a(160).OverlayTrigger,c=a(160).Tooltip,p=i.createClass({displayName:"ActionButtons",handleAccept:function(){this.props.onAccept(this.props.value)},handleReject:function(){this.props.onReject(this.props.value)},render:function(){var e=this.props.acceptTitle&&this.props.acceptTooltip&&this.props.onAccept;if(e)var t=i.createElement(c,{id:this.props.acceptTooltip},this.props.acceptTooltip);var a=i.createElement(c,{id:this.props.rejectTooltip},this.props.rejectTooltip);return i.createElement("div",{className:"actionButton"},i.createElement(s,null,e?i.createElement(o,{placement:"top",overlay:t,delayShow:500},i.createElement(r,{className:"table-action1",bsStyle:"link",onClick:this.handleAccept,disabled:this.props.actionsDisabled},i.createElement(l,{glyph:"ok"})," ",this.props.acceptTitle)):i.createElement("div",null),i.createElement(o,{placement:"top",overlay:a,delayShow:500},i.createElement(r,{className:"table-action2",bsStyle:"link",onClick:this.handleReject,disabled:this.props.actionsDisabled},i.createElement(l,{glyph:"remove"})," ",this.props.rejectTitle))))}}),u=i.createClass({displayName:"ActionTable",render:function(){var e=this.props.onAccept,t=this.props.glyph,a=this.props.onReject,r=this.props.acceptTitle,s=this.props.rejectTitle,o=this.props.acceptTooltip,c=this.props.rejectTooltip,u=this.props.rows.map(function(n){return i.createElement("tr",{key:n.value},i.createElement("td",null,n.string1,n.actionsDisabled?i.createElement("span",{className:"actionGlyph"}," ",i.createElement(l,{glyph:t})):i.createElement("div",null)),i.createElement("td",null,n.string2),i.createElement("td",{className:"action-td"},i.createElement(p,{value:n.value,acceptTitle:r,rejectTitle:s,acceptTooltip:o,rejectTooltip:c,onAccept:e,onReject:a,actionsDisabled:n.actionsDisabled})))});return i.createElement("div",{className:"actionTable"},i.createElement(n,{condensed:!0,hover:!0},i.createElement("thead",null,i.createElement("tr",null,i.createElement("th",null,this.props.string1),i.createElement("th",{colSpan:"2"},this.props.string2))),i.createElement("tbody",null,u)))}});e.exports=u},405:function(e,t,a){var i=a(1),n=a(158),r=a(160).Button,s=a(160).Input,l=a(160).FormControls,o=a(160).Glyphicon,c=i.createClass({displayName:"InputEditableTextField",getInitialState:function(){return{value:"",editable:!1,currentlyEditing:!1}},handleChange:function(e){this.setState({value:e.target.value,currentlyEditing:!1})},toggleEditableField:function(e){this.setState({value:this.props.currentValue,editable:!this.state.editable,currentlyEditing:!0})},handleSubmit:function(e){var t=this.state.value.trim();this.props.onSubmit(t),this.setState({value:"",editable:!1})},componentDidUpdate:function(e){this.state.editable&&this.state.currentlyEditing&&n.findDOMNode(this.refs.input.getInputDOMNode()).select()},render:function(){var e=i.createElement("a",{onClick:this.toggleEditableField},"Edit"),t=i.createElement(r,{className:"cancelLink",onClick:this.toggleEditableField},"Cancel"),a=i.createElement("a",{onClick:this.handleSubmit},this.props.buttonTitle||"Update");return i.createElement("div",{className:"inputEditableTextField"},this.state.editable?i.createElement("div",null,i.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},i.createElement(s,{type:this.props.multiline?"textarea":"text",value:this.state.value,placeholder:this.props.placeholder,label:this.props.title,ref:"input",groupClassName:"group-class",addonAfter:a,buttonAfter:t,labelClassName:"col-xs-3",wrapperClassName:"col-xs-9",onChange:this.handleChange}))):i.createElement("form",{className:"form-horizontal"},i.createElement(l.Static,{label:this.props.title,labelClassName:"col-xs-3",wrapperClassName:"inputEditWrapper col-xs-9",addonAfter:e},this.props.currentValue?i.createElement("span",null,this.props.currentValue," ",this.props.verified?i.createElement(o,{className:"verifiedGlyph",glyph:"ok"}):""):i.createElement("span",{className:"placeholder"},this.props.placeholder))))}});e.exports=c}});