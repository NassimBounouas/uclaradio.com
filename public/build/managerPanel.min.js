webpackJsonp([0],{0:function(e,t,n){var r=n(1),s=n(158),a={url:"/panel/manager/info",listAccounts:"/panel/manager/api/listAccounts",verifyAccount:"/panel/manager/api/verify","delete":"/panel/manager/api/delete",deleteUnverified:"/panel/manager/api/deleteUnverified"},i=n(159),l=n(160).Grid,c=n(160).Row,o=n(160).Col,u=n(160).Well,p=n(160).Panel,d=r.createClass({displayName:"Manager",getInitialState:function(){return{}},componentDidMount:function(){},render:function(){return r.createElement("div",{className:"manager"},r.createElement(l,null,r.createElement(c,null,r.createElement(o,{xs:12,md:6},r.createElement(u,{header:"Manager Info"},r.createElement("h2",null,"Manager Info"),r.createElement("p",null,"Name: name"))),r.createElement(o,{xs:12,md:6},r.createElement(g,{urls:this.props.urls})))))}});const h="Full Name",m="Email",f="Verify",v="Delete",E="Verify user is a Radio DJ",y="Deny account request";var g=r.createClass({displayName:"AccountsList",loadDataFromServer:function(){$.ajax({url:this.props.urls.listAccounts,dataType:"json",type:"POST",cache:!1,success:function(e){this.setState({accounts:e}),this.updateTableRows()}.bind(this),error:function(e,t,n){console.error(this.props.url,t,n.toString())}.bind(this)})},updateUser:function(e,t,n){var r={username:t};$.ajax({url:e,dataType:"json",type:"POST",data:r,success:function(){this.loadDataFromServer()}.bind(this),error:function(e,t,r){this.setState({accounts:n}),this.updateTableRows(),console.error(this.props.showURL,t,r.toString())}.bind(this)})},handleVerifyUser:function(e){for(var t=this.state.accounts,n=$.extend(!0,[],this.state.accounts),r=0;r<n.unverified.length;r++)if(n.unverified[r].username==e){n.verified.push(n.unverified[r]),n.unverified.splice(r,1);break}this.setState({accounts:n}),this.updateUser(this.props.urls.verifyAccount,e,t)},handleDeleteUser:function(e){for(var t=this.state.accounts,n=$.extend(!0,[],this.state.accounts),r=0;r<n.verified.length;r++)if(n.verified[r].username==e){n.verified.splice(r,1);break}this.setState({accounts:n}),this.updateUser(this.props.urls["delete"],e,t)},handleDeleteUnverifiedUser:function(e){for(var t=this.state.accounts,n=$.extend(!0,[],this.state.accounts),r=0;r<n.unverified.length;r++)if(n.unverified[r].username==e){n.unverified.splice(r,1);break}this.setState({accounts:n}),this.updateUser(this.props.urls.deleteUnverified,e,t)},updateTableRows:function(){var e=function(e){var t=[];console.log("accounts:",e);for(var n=0;n<e.length;n++){var r={value:e[n].username,string1:e[n].username,string2:e[n].email};t.push(r)}return t};console.log("unverified:",this.state.accounts.unverified),this.setState({unverifiedRows:e(this.state.accounts.unverified)}),this.setState({verifiedRows:e(this.state.accounts.verified)})},getInitialState:function(){return{accounts:{unverified:[],verified:[]},unverifiedRows:[],verifiedRows:[]}},componentDidMount:function(){this.loadDataFromServer()},render:function(){var e=this.handleDeleteUser,t=this.state.accounts.verified.map(function(t){return r.createElement("div",{key:t.username},r.createElement(T,{user:t,onDelete:e}))});return r.createElement("div",{className:"accountsList"},this.state.unverifiedRows.length>0?r.createElement(p,{header:"Requested Accounts",bsStyle:"warning"},r.createElement(i,{rows:this.state.unverifiedRows,string1:h,string2:m,acceptTitle:f,rejectTitle:v,acceptTooltip:E,rejectTooltip:y,onAccept:this.handleVerifyUser,onReject:this.handleDeleteUnverifiedUser})):r.createElement("div",null),this.state.verifiedRows.length>0?r.createElement(p,{header:"DJs",bsStyle:"info"}," ",t):r.createElement("div",null))}}),T=(r.createClass({displayName:"UnverifiedUserAccount",handleVerifyUser:function(){this.props.onVerifyUser(this.props.user.username)},handleRemoveUser:function(){this.props.onDelete(this.props.user.username)},render:function(){return r.createElement("div",{className:"unverifiedUserAccount"},r.createElement("p",null,this.props.user.username,", email: ",this.props.user.email,r.createElement("button",{onClick:this.handleVerifyUser},"Verify DJ")," ",r.createElement("button",{className:"destructive",onClick:this.handleRemoveUser},"Delete")))}}),r.createClass({displayName:"UserAccount",handleRemoveUser:function(){this.props.onDelete(this.props.user.username)},render:function(){return r.createElement("div",{className:"userAccount"},r.createElement("p",null,this.props.user.username,", email: ",this.props.user.email,r.createElement("button",{className:"destructive",onClick:this.handleRemoveUser},"Delete")))}}));s.render(r.createElement(d,{urls:a}),document.getElementById("content"))},159:function(e,t,n){var r=n(1),s=(n(158),n(160).Table),a=n(160).Button,i=n(160).ButtonGroup,l=n(160).Glyphicon,c=n(160).OverlayTrigger,o=n(160).Tooltip,u=r.createClass({displayName:"ActionButtons",handleAccept:function(){this.props.onAccept(this.props.value)},handleReject:function(){this.props.onReject(this.props.value)},render:function(){var e=r.createElement(o,{id:this.props.acceptTooltip},this.props.acceptTooltip),t=r.createElement(o,{id:this.props.rejectTooltip},this.props.rejectTooltip);return r.createElement("div",{className:"actionButton"},r.createElement(i,null,r.createElement(c,{placement:"top",overlay:e,delayShow:500},r.createElement(a,{className:"table-action1",bsStyle:"link",onClick:this.handleAccept},r.createElement(l,{glyph:"ok"})," ",this.props.acceptTitle)),r.createElement(c,{placement:"top",overlay:t,delayShow:500},r.createElement(a,{className:"table-action2",bsStyle:"link",onClick:this.handleReject},r.createElement(l,{glyph:"remove"})," ",this.props.rejectTitle))))}}),p=r.createClass({displayName:"ActionTable",render:function(){var e=this.props.onAccept,t=this.props.onReject,n=this.props.acceptTitle,a=this.props.rejectTitle,i=this.props.acceptTooltip,l=this.props.rejectTooltip,c=this.props.rows.map(function(s){return r.createElement("tr",{key:s.value},r.createElement("td",null,s.string1),r.createElement("td",null,s.string2),r.createElement("td",{className:"action-td"},r.createElement(u,{value:s.value,acceptTitle:n,rejectTitle:a,acceptTooltip:i,rejectTooltip:l,onAccept:e,onReject:t})))});return r.createElement("div",{className:"actionTable"},r.createElement(s,null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,this.props.string1),r.createElement("th",{colSpan:"2"},this.props.string2))),r.createElement("tbody",null,c)))}});e.exports=p}});