webpackJsonp([0],{0:function(e,t,n){var s=n(1),r=n(158),a={url:"/panel/manager/info",listAccounts:"/panel/manager/api/listAccounts",verifyAccount:"/panel/manager/api/verify","delete":"/panel/manager/api/delete",deleteUnverified:"/panel/manager/api/deleteUnverified"},i=n(159),l=n(404),c=n(160).Grid,o=n(160).Row,p=n(160).Col,u=n(160).Well,d=n(160).Panel;n(160).Pager,n(160).PageItem;var h=s.createClass({displayName:"Manager",getInitialState:function(){return{}},componentDidMount:function(){},render:function(){return s.createElement("div",{className:"manager"},s.createElement(c,null,s.createElement(l,null),s.createElement(o,null,s.createElement(p,{xs:12,md:6},s.createElement(u,null,s.createElement("p",null,"Name: name"))),s.createElement(p,{xs:12,md:6},s.createElement(R,{urls:this.props.urls})))))}});const m="Full Name",f="Email",v="fire",E="Verify",y="Verify user is a Radio DJ",g="Delete",T="Remove DJ",b="Delete DJ account";var R=s.createClass({displayName:"AccountsList",loadDataFromServer:function(){$.ajax({url:this.props.urls.listAccounts,dataType:"json",type:"POST",cache:!1,success:function(e){this.setState({accounts:e}),this.updateTableRows()}.bind(this),error:function(e,t,n){console.error(this.props.url,t,n.toString())}.bind(this)})},updateUser:function(e,t,n){var s={username:t};$.ajax({url:e,dataType:"json",type:"POST",data:s,success:function(){this.loadDataFromServer()}.bind(this),error:function(e,t,s){this.setState({accounts:n}),this.updateTableRows(),console.error(this.props.showURL,t,s.toString())}.bind(this)})},handleVerifyUser:function(e){for(var t=this.state.accounts,n=$.extend(!0,[],this.state.accounts),s=0;s<n.unverified.length;s++)if(n.unverified[s].username==e){n.verified.push(n.unverified[s]),n.unverified.splice(s,1);break}this.setState({accounts:n}),this.updateUser(this.props.urls.verifyAccount,e,t)},handleDeleteUser:function(e){for(var t=this.state.accounts,n=$.extend(!0,[],this.state.accounts),s=0;s<n.verified.length;s++)if(n.verified[s].username==e){n.verified.splice(s,1);break}this.setState({accounts:n}),this.updateUser(this.props.urls["delete"],e,t)},handleDeleteUnverifiedUser:function(e){for(var t=this.state.accounts,n=$.extend(!0,[],this.state.accounts),s=0;s<n.unverified.length;s++)if(n.unverified[s].username==e){n.unverified.splice(s,1);break}this.setState({accounts:n}),this.updateUser(this.props.urls.deleteUnverified,e,t)},updateTableRows:function(){var e=function(e){for(var t=[],n=0;n<e.length;n++){var s={value:e[n].username,string1:e[n].username,string2:e[n].email,actionsDisabled:e[n].manager};t.push(s)}return t};this.setState({unverifiedRows:e(this.state.accounts.unverified)}),this.setState({verifiedRows:e(this.state.accounts.verified)})},getInitialState:function(){return{accounts:{unverified:[],verified:[]},unverifiedRows:[],verifiedRows:[]}},componentDidMount:function(){this.loadDataFromServer()},render:function(){return s.createElement("div",{className:"accountsList"},this.state.unverifiedRows.length>0?s.createElement(d,{header:"Requested Accounts",bsStyle:"warning"},s.createElement(i,{rows:this.state.unverifiedRows,string1:m,string2:f,acceptTitle:E,rejectTitle:g,acceptTooltip:y,rejectTooltip:b,onAccept:this.handleVerifyUser,onReject:this.handleDeleteUnverifiedUser})):s.createElement("div",null),this.state.verifiedRows.length>0?s.createElement(d,{header:"DJs",bsStyle:"info"},s.createElement(i,{rows:this.state.verifiedRows,string1:m,string2:f,rejectTitle:T,rejectTooltip:b,onReject:this.handleDeleteUser,glyph:v})):s.createElement("div",null))}});s.createClass({displayName:"UnverifiedUserAccount",handleVerifyUser:function(){this.props.onVerifyUser(this.props.user.username)},handleRemoveUser:function(){this.props.onDelete(this.props.user.username)},render:function(){return s.createElement("div",{className:"unverifiedUserAccount"},s.createElement("p",null,this.props.user.username,", email: ",this.props.user.email,s.createElement("button",{onClick:this.handleVerifyUser},"Verify DJ")," ",s.createElement("button",{className:"destructive",onClick:this.handleRemoveUser},"Delete")))}}),s.createClass({displayName:"UserAccount",handleRemoveUser:function(){this.props.onDelete(this.props.user.username)},render:function(){return s.createElement("div",{className:"userAccount"},s.createElement("p",null,this.props.user.username,", email: ",this.props.user.email,s.createElement("button",{className:"destructive",onClick:this.handleRemoveUser},"Delete")))}});r.render(s.createElement(h,{urls:a}),document.getElementById("content"))},159:function(e,t,n){var s=n(1),r=n(160).Table,a=n(160).Button,i=n(160).ButtonGroup,l=n(160).Glyphicon,c=n(160).OverlayTrigger,o=n(160).Tooltip,p=s.createClass({displayName:"ActionButtons",handleAccept:function(){this.props.onAccept(this.props.value)},handleReject:function(){this.props.onReject(this.props.value)},render:function(){var e=this.props.acceptTitle&&this.props.acceptTooltip&&this.props.onAccept;if(e)var t=s.createElement(o,{id:this.props.acceptTooltip},this.props.acceptTooltip);var n=s.createElement(o,{id:this.props.rejectTooltip},this.props.rejectTooltip);return s.createElement("div",{className:"actionButton"},s.createElement(i,null,e?s.createElement(c,{placement:"top",overlay:t,delayShow:500},s.createElement(a,{className:"table-action1",bsStyle:"link",onClick:this.handleAccept,disabled:this.props.actionsDisabled},s.createElement(l,{glyph:"ok"})," ",this.props.acceptTitle)):s.createElement("div",null),s.createElement(c,{placement:"top",overlay:n,delayShow:500},s.createElement(a,{className:"table-action2",bsStyle:"link",onClick:this.handleReject,disabled:this.props.actionsDisabled},s.createElement(l,{glyph:"remove"})," ",this.props.rejectTitle))))}}),u=s.createClass({displayName:"ActionTable",render:function(){var e=this.props.onAccept,t=this.props.glyph,n=this.props.onReject,a=this.props.acceptTitle,i=this.props.rejectTitle,c=this.props.acceptTooltip,o=this.props.rejectTooltip,u=this.props.rows.map(function(r){return s.createElement("tr",{key:r.value},s.createElement("td",null,r.string1,r.actionsDisabled?s.createElement("span",{className:"actionGlyph"}," ",s.createElement(l,{glyph:t})):s.createElement("div",null)),s.createElement("td",null,r.string2),s.createElement("td",{className:"action-td"},s.createElement(p,{value:r.value,acceptTitle:a,rejectTitle:i,acceptTooltip:c,rejectTooltip:o,onAccept:e,onReject:n,actionsDisabled:r.actionsDisabled})))});return s.createElement("div",{className:"actionTable"},s.createElement(r,{condensed:!0,hover:!0},s.createElement("thead",null,s.createElement("tr",null,s.createElement("th",null,this.props.string1),s.createElement("th",{colSpan:"2"},this.props.string2))),s.createElement("tbody",null,u)))}});e.exports=u}});